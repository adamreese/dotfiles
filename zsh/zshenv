# ------------------------------------------------------------------------------
# zshenv
# ------------------------------------------------------------------------------
[[ -n $ZSH_DEBUG ]] && zmodload zsh/zprof

# XDG Base Directory
# ------------------------------------------------------------------------------
# https://specifications.freedesktop.org/basedir-spec/latest
export XDG_DATA_HOME="${HOME}/.local/share"
export XDG_CONFIG_HOME="${HOME}/.config"
export XDG_CACHE_HOME="${HOME}/.cache"

ZSH="${ZDOTDIR:-${XDG_CONFIG_HOME}}/zsh"

ZSH_CACHE="${XDG_CACHE_HOME}/zsh"
[[ ! -d ${ZSH_CACHE} ]] || mkdir -p "${ZSH_CACHE}"

# application specific xdg
export DOCKER_CONFIG="${XDG_CONFIG_HOME}/docker"
export GLIDE_HOME="${XDG_CACHE_HOME}/glide"
export PSQLRC="${XDG_CONFIG_HOME}/pg/psqlrc"
export PSQL_HISTORY="$XDG_CACHE_HOME/pg/psql_history"

# Path
# ------------------------------------------------------------------------------
typeset -gU cdpath fpath manpath path

# load completion functions
fpath=(
  ${ZSH}/{completion,functions}(N-/)
  ${ZSH}/modules/*/{completion,functions}(N-/)
  /usr/local/share/zsh/site-functions(N-/)
  /usr/local/share/zsh-completions(N-/)
  ${fpath}
)
autoload -Uz ${ZSH}/functions/*(N:t)

path=(
  ${HOME}/.dotfiles/bin(N-/)
  ${HOME}/.local/bin(N-/)

  # GNU Coreutils
  /usr/local/opt/coreutils/libexec/gnubin(N-/)
  /usr/local/{bin,sbin}
  ${path}
)

manpath=(
  # GNU Coreutils
  /usr/local/opt/coreutils/libexec/gnuman(N-/)
  ${manpath}
)

# https://blog.packagecloud.io/eng/2017/02/21/set-environment-variable-save-thousands-of-system-calls/
export TZ=:/etc/localtime

# ------------------------------------------------------------------------------
# vi:ft=zsh
