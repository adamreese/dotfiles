# vim: ft=gitconfig :

[init]
  templatedir = ~/.config/git/template

[alias]
  a     = add
  aa    = add --all
  ap    = add --patch
  br    = branch
  cm    = commit
  co    = checkout
  cp    = cherry-pick
  ct    = checkout --track
  cv    = commit --verbose
  d     = diff
  dc    = diff --cached
  fa    = fetch --all --tags
  l     = log --decorate --oneline --graph
  ll    = log
  pf    = push --force-with-lease
  pl    = pull --rebase
  plum  = pull upstream master
  ra    = rebase --abort
  rc    = rebase --continue
  ri    = rebase --interactive

  # Amend the currently staged files to the latest commit
  amend = "!git commit --amend -v --date=$(date +%Y-%m-%dT%H:%M:%S)"

  # Show the working tree status in short-format
  s = status --short --branch

  next-release = "!git log $(git describe --tags --abbrev=0)..HEAD --pretty=format:'%C(yellow)%h%Creset %s %C(bold blue)<%an>%Creset' --abbrev-commit"
  nr = !git next-release

  # Interactive rebase with the given number of latest commits
  reb = "!r() { git rebase -i HEAD~$1; }; r"

  new  = log --no-merges --oneline ORIG_HEAD..
  news = log --no-merges --stat ORIG_HEAD..

[credential]
  helper = osxkeychain

[user]
  name  = Adam Reese
  email = adam@reese.io
  signingkey = 7F8A9958

[color]
  diff   = auto
  status = auto
  branch = auto

[core]
  excludesfile = ~/.config/git/ignore

[fetch]
  prune = true

[rebase]
  autosquash = true

[push]
  default = current

[branch]
  autosetuprebase = always

[filter "media"]
  clean  = git-media-clean %f
  smudge = git-media-smudge %f

[github]
  user = adamreese

[filter "lfs"]
  clean    = git-lfs clean %f
  smudge   = git-lfs smudge %f
  required = true

[rerere]
  enabled = true

[interactive]
  diffFilter = diff-highlight

[pager]
  log  = diff-highlight | ${GIT_PAGER:-less -FX}
  show = diff-highlight | ${GIT_PAGER:-less -FX}
  diff = diff-highlight | ${GIT_PAGER:-less -FX}

[difftool]
  prompt = false

[diff]
  algorithm = patience
  compactionHeuristic = true
  renames = copies
  tool = vimdiff

[difftool "vimdiff"]
  cmd = nvim -d "$LOCAL" "$REMOTE"
