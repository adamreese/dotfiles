# vim: ft=gitconfig :

[alias]
  a     = add
  aa    = add --all
  ap    = add --patch
  br    = branch
  cm    = commit
  co    = checkout
  cp    = cherry-pick
  ct    = checkout --track
  cv    = commit --verbose
  d     = diff
  dc    = diff --cached
  fa    = fetch --all --tags
  l     = log --decorate --oneline --graph
  ll    = log
  pf    = push --force-with-lease
  pl    = pull --rebase
  plum  = pull upstream master
  ra    = rebase --abort
  rc    = rebase --continue
  ri    = rebase --interactive

  # Amend the currently staged files to the latest commit
  amend = "!git commit --amend -v --date=$(date +%Y-%m-%dT%H:%M:%S)"

  # Show the working tree status in short-format
  s = status --short --branch

  # Interactive rebase with the given number of latest commits
  reb = "!r() { git rebase -i HEAD~$1; }; r"

  new  = log --no-merges --oneline ORIG_HEAD..
  news = log --no-merges --stat ORIG_HEAD..

  fork = clone --origin upsteam

[user]
  name  = Adam Reese
  email = adam@reese.io
  signingkey = 7F8A9958

[core]
  editor = $EDITOR
  excludesfile = ~/.config/git/ignore

[commit]
  gpgsign = true

[fetch]
  prune = true

[rebase]
  autosquash = true

[push]
  default = current

[branch]
  autosetuprebase = always

[filter "media"]
  clean  = git-media-clean %f
  smudge = git-media-smudge %f

[github]
  user = adamreese

[filter "lfs"]
  clean    = git-lfs clean %f
  smudge   = git-lfs smudge %f
  required = true

[rerere]
  enabled = true

[interactive]
  diffFilter = diff-so-fancy --patch-mode | less --tabs=4 -RFX
  ; diffFilter = diff-highlight

[pager]
  log  = diff-highlight | ${GIT_PAGER:-less -FX}
  ; show = diff-highlight | ${GIT_PAGER:-less -FX}
  ; diff = diff-highlight | ${GIT_PAGER:-less -FX}
  show = diff-so-fancy | less --tabs=4 -RFX --pattern '^(Date|added|deleted|modified): '
  diff = diff-so-fancy | less --tabs=4 -RFX --pattern '^(Date|added|deleted|modified): '

[difftool]
  prompt = false

[diff]
  algorithm = patience

  # Enable an experimental heuristic that shifts the hunk boundary in an
  # attempt to make the resulting patch easier to read.
  indentHeuristic = true

  # Detect copies as well as renames
  renames = copies
  tool = vimdiff

[difftool "vimdiff"]
  cmd = nvim -d "$LOCAL" "$REMOTE"

[color "diff"]
  meta       = yellow
  frag       = magenta
  old        = red strike
  new        = green italic
  whitespace = red reverse

[color "diff-highlight"]
  oldNormal    = "red bold"
  oldHighlight = "red bold 52"
  newNormal    = "green bold"
  newHighlight = "green bold 22"

[color "status"]
  added     = green
  changed   = yellow
  untracked = red

[init]
  templateDir = ~/.config/git/templates

[include]
  path = "~/.config/git/config.local"
